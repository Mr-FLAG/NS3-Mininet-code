Naive 4-ary
sh ovs-ofctl -O OpenFlow13 add-flow c0 priority=1,ip,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c0 priority=1,ip,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c0 priority=1,ip,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c0 priority=1,ip,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c1 priority=1,ip,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c1 priority=1,ip,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c1 priority=1,ip,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c1 priority=1,ip,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c2 priority=1,ip,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c2 priority=1,ip,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c2 priority=1,ip,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c2 priority=1,ip,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c3 priority=1,ip,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c3 priority=1,ip,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c3 priority=1,ip,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c3 priority=1,ip,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid

sh ovs-ofctl -O OpenFlow13 add-flow a0 priority=1,ip,nw_dst=10.0.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a0 priority=1,ip,nw_dst=10.0.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a1 priority=1,ip,nw_dst=10.0.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a1 priority=1,ip,nw_dst=10.0.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a2 priority=1,ip,nw_dst=10.1.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a2 priority=1,ip,nw_dst=10.1.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a3 priority=1,ip,nw_dst=10.1.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a3 priority=1,ip,nw_dst=10.1.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a4 priority=1,ip,nw_dst=10.2.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a4 priority=1,ip,nw_dst=10.2.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a5 priority=1,ip,nw_dst=10.2.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a5 priority=1,ip,nw_dst=10.2.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a6 priority=1,ip,nw_dst=10.3.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a6 priority=1,ip,nw_dst=10.3.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a7 priority=1,ip,nw_dst=10.3.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a7 priority=1,ip,nw_dst=10.3.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a0 priority=1,ip,nw_dst=10.0.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a0 priority=1,ip,nw_dst=10.0.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a1 priority=1,ip,nw_dst=10.0.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a1 priority=1,ip,nw_dst=10.0.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a2 priority=1,ip,nw_dst=10.1.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a2 priority=1,ip,nw_dst=10.1.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a3 priority=1,ip,nw_dst=10.1.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a3 priority=1,ip,nw_dst=10.1.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a4 priority=1,ip,nw_dst=10.2.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a4 priority=1,ip,nw_dst=10.2.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a5 priority=1,ip,nw_dst=10.2.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a5 priority=1,ip,nw_dst=10.2.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a6 priority=1,ip,nw_dst=10.3.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a6 priority=1,ip,nw_dst=10.3.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a7 priority=1,ip,nw_dst=10.3.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a7 priority=1,ip,nw_dst=10.3.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid

sh ovs-ofctl -O OpenFlow13 add-flow e0 priority=1,ip,nw_src=10.0.0.0/16,nw_dst=10.0.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e0 priority=1,ip,nw_src=10.0.0.0/16,nw_dst=10.0.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e0 priority=1,ip,nw_src=10.0.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e0 priority=1,ip,nw_src=10.0.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e1 priority=1,ip,nw_src=10.0.0.0/16,nw_dst=10.0.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e1 priority=1,ip,nw_src=10.0.0.0/16,nw_dst=10.0.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e1 priority=1,ip,nw_src=10.0.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e1 priority=1,ip,nw_src=10.0.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e2 priority=1,ip,nw_src=10.1.0.0/16,nw_dst=10.1.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e2 priority=1,ip,nw_src=10.1.0.0/16,nw_dst=10.1.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e2 priority=1,ip,nw_src=10.1.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e2 priority=1,ip,nw_src=10.1.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e3 priority=1,ip,nw_src=10.1.0.0/16,nw_dst=10.1.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e3 priority=1,ip,nw_src=10.1.0.0/16,nw_dst=10.1.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e3 priority=1,ip,nw_src=10.1.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e3 priority=1,ip,nw_src=10.1.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e4 priority=1,ip,nw_src=10.2.0.0/16,nw_dst=10.2.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e4 priority=1,ip,nw_src=10.2.0.0/16,nw_dst=10.2.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e4 priority=1,ip,nw_src=10.2.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e4 priority=1,ip,nw_src=10.2.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e5 priority=1,ip,nw_src=10.2.0.0/16,nw_dst=10.2.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e5 priority=1,ip,nw_src=10.2.0.0/16,nw_dst=10.2.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e5 priority=1,ip,nw_src=10.2.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e5 priority=1,ip,nw_src=10.2.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e6 priority=1,ip,nw_src=10.3.0.0/16,nw_dst=10.3.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e6 priority=1,ip,nw_src=10.3.0.0/16,nw_dst=10.3.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e6 priority=1,ip,nw_src=10.3.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e6 priority=1,ip,nw_src=10.3.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e7 priority=1,ip,nw_src=10.3.0.0/16,nw_dst=10.3.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e7 priority=1,ip,nw_src=10.3.0.0/16,nw_dst=10.3.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e7 priority=1,ip,nw_src=10.3.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e7 priority=1,ip,nw_src=10.3.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid

Naive 8-ary
sh ovs-ofctl -O OpenFlow13 add-flow c0 priority=1,ip,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c0 priority=1,ip,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c0 priority=1,ip,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c0 priority=1,ip,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c1 priority=1,ip,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c1 priority=1,ip,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c1 priority=1,ip,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c1 priority=1,ip,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c2 priority=1,ip,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c2 priority=1,ip,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c2 priority=1,ip,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c2 priority=1,ip,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c3 priority=1,ip,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c3 priority=1,ip,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c3 priority=1,ip,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c3 priority=1,ip,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid

sh ovs-ofctl -O OpenFlow13 add-flow c0 priority=1,ip,in_port=5,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c0 priority=1,ip,in_port=6,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c0 priority=1,ip,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c0 priority=1,ip,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c1 priority=1,ip,in_port=5,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c1 priority=1,ip,in_port=6,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c1 priority=1,ip,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c1 priority=1,ip,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c2 priority=1,ip,in_port=5,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c2 priority=1,ip,in_port=6,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c2 priority=1,ip,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c2 priority=1,ip,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c3 priority=1,ip,in_port=5,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c3 priority=1,ip,in_port=6,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c3 priority=1,ip,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow c3 priority=1,ip,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid

sh ovs-ofctl -O OpenFlow13 add-flow a0 priority=1,ip,nw_dst=10.0.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a0 priority=1,ip,nw_dst=10.0.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a1 priority=1,ip,nw_dst=10.0.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a1 priority=1,ip,nw_dst=10.0.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a2 priority=1,ip,nw_dst=10.1.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a2 priority=1,ip,nw_dst=10.1.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a3 priority=1,ip,nw_dst=10.1.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a3 priority=1,ip,nw_dst=10.1.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a4 priority=1,ip,nw_dst=10.2.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a4 priority=1,ip,nw_dst=10.2.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a5 priority=1,ip,nw_dst=10.2.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a5 priority=1,ip,nw_dst=10.2.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a6 priority=1,ip,nw_dst=10.3.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a6 priority=1,ip,nw_dst=10.3.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a7 priority=1,ip,nw_dst=10.3.0.0/16,in_port=1,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a7 priority=1,ip,nw_dst=10.3.0.0/16,in_port=2,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a0 priority=1,ip,nw_dst=10.0.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a0 priority=1,ip,nw_dst=10.0.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a1 priority=1,ip,nw_dst=10.0.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a1 priority=1,ip,nw_dst=10.0.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a2 priority=1,ip,nw_dst=10.1.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a2 priority=1,ip,nw_dst=10.1.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a3 priority=1,ip,nw_dst=10.1.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a3 priority=1,ip,nw_dst=10.1.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a4 priority=1,ip,nw_dst=10.2.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a4 priority=1,ip,nw_dst=10.2.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a5 priority=1,ip,nw_dst=10.2.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a5 priority=1,ip,nw_dst=10.2.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a6 priority=1,ip,nw_dst=10.3.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a6 priority=1,ip,nw_dst=10.3.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a7 priority=1,ip,nw_dst=10.3.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a7 priority=1,ip,nw_dst=10.3.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid

sh ovs-ofctl -O OpenFlow13 add-flow a0 priority=1,ip,nw_dst=10.0.0.0/16,in_port=5,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a0 priority=1,ip,nw_dst=10.0.0.0/16,in_port=6,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a1 priority=1,ip,nw_dst=10.0.0.0/16,in_port=5,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a1 priority=1,ip,nw_dst=10.0.0.0/16,in_port=6,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a2 priority=1,ip,nw_dst=10.1.0.0/16,in_port=5,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a2 priority=1,ip,nw_dst=10.1.0.0/16,in_port=6,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a3 priority=1,ip,nw_dst=10.1.0.0/16,in_port=5,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a3 priority=1,ip,nw_dst=10.1.0.0/16,in_port=6,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a4 priority=1,ip,nw_dst=10.2.0.0/16,in_port=5,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a4 priority=1,ip,nw_dst=10.2.0.0/16,in_port=6,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a5 priority=1,ip,nw_dst=10.2.0.0/16,in_port=5,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a5 priority=1,ip,nw_dst=10.2.0.0/16,in_port=6,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a6 priority=1,ip,nw_dst=10.3.0.0/16,in_port=5,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a6 priority=1,ip,nw_dst=10.3.0.0/16,in_port=6,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a7 priority=1,ip,nw_dst=10.3.0.0/16,in_port=5,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a7 priority=1,ip,nw_dst=10.3.0.0/16,in_port=6,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a0 priority=1,ip,nw_dst=10.0.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a0 priority=1,ip,nw_dst=10.0.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a1 priority=1,ip,nw_dst=10.0.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a1 priority=1,ip,nw_dst=10.0.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a2 priority=1,ip,nw_dst=10.1.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a2 priority=1,ip,nw_dst=10.1.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a3 priority=1,ip,nw_dst=10.1.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a3 priority=1,ip,nw_dst=10.1.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a4 priority=1,ip,nw_dst=10.2.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a4 priority=1,ip,nw_dst=10.2.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a5 priority=1,ip,nw_dst=10.2.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a5 priority=1,ip,nw_dst=10.2.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a6 priority=1,ip,nw_dst=10.3.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a6 priority=1,ip,nw_dst=10.3.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a7 priority=1,ip,nw_dst=10.3.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow a7 priority=1,ip,nw_dst=10.3.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid


sh ovs-ofctl -O OpenFlow13 add-flow e0 priority=1,ip,nw_src=10.0.0.0/16,nw_dst=10.0.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e0 priority=1,ip,nw_src=10.0.0.0/16,nw_dst=10.0.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e0 priority=1,ip,nw_src=10.0.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e0 priority=1,ip,nw_src=10.0.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e1 priority=1,ip,nw_src=10.0.0.0/16,nw_dst=10.0.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e1 priority=1,ip,nw_src=10.0.0.0/16,nw_dst=10.0.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e1 priority=1,ip,nw_src=10.0.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e1 priority=1,ip,nw_src=10.0.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e2 priority=1,ip,nw_src=10.1.0.0/16,nw_dst=10.1.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e2 priority=1,ip,nw_src=10.1.0.0/16,nw_dst=10.1.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e2 priority=1,ip,nw_src=10.1.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e2 priority=1,ip,nw_src=10.1.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e3 priority=1,ip,nw_src=10.1.0.0/16,nw_dst=10.1.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e3 priority=1,ip,nw_src=10.1.0.0/16,nw_dst=10.1.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e3 priority=1,ip,nw_src=10.1.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e3 priority=1,ip,nw_src=10.1.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e4 priority=1,ip,nw_src=10.2.0.0/16,nw_dst=10.2.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e4 priority=1,ip,nw_src=10.2.0.0/16,nw_dst=10.2.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e4 priority=1,ip,nw_src=10.2.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e4 priority=1,ip,nw_src=10.2.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e5 priority=1,ip,nw_src=10.2.0.0/16,nw_dst=10.2.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e5 priority=1,ip,nw_src=10.2.0.0/16,nw_dst=10.2.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e5 priority=1,ip,nw_src=10.2.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e5 priority=1,ip,nw_src=10.2.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e6 priority=1,ip,nw_src=10.3.0.0/16,nw_dst=10.3.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e6 priority=1,ip,nw_src=10.3.0.0/16,nw_dst=10.3.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e6 priority=1,ip,nw_src=10.3.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e6 priority=1,ip,nw_src=10.3.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e7 priority=1,ip,nw_src=10.3.0.0/16,nw_dst=10.3.0.0/16,in_port=3,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e7 priority=1,ip,nw_src=10.3.0.0/16,nw_dst=10.3.0.0/16,in_port=4,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e7 priority=1,ip,nw_src=10.3.0.0/16,in_port=3,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e7 priority=1,ip,nw_src=10.3.0.0/16,in_port=4,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid

sh ovs-ofctl -O OpenFlow13 add-flow e0 priority=1,ip,nw_src=10.0.0.0/16,nw_dst=10.0.0.0/16,in_port=7,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e0 priority=1,ip,nw_src=10.0.0.0/16,nw_dst=10.0.0.0/16,in_port=8,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e0 priority=1,ip,nw_src=10.0.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e0 priority=1,ip,nw_src=10.0.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e1 priority=1,ip,nw_src=10.0.0.0/16,nw_dst=10.0.0.0/16,in_port=7,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e1 priority=1,ip,nw_src=10.0.0.0/16,nw_dst=10.0.0.0/16,in_port=8,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e1 priority=1,ip,nw_src=10.0.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e1 priority=1,ip,nw_src=10.0.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e2 priority=1,ip,nw_src=10.1.0.0/16,nw_dst=10.1.0.0/16,in_port=7,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e2 priority=1,ip,nw_src=10.1.0.0/16,nw_dst=10.1.0.0/16,in_port=8,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e2 priority=1,ip,nw_src=10.1.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e2 priority=1,ip,nw_src=10.1.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e3 priority=1,ip,nw_src=10.1.0.0/16,nw_dst=10.1.0.0/16,in_port=7,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e3 priority=1,ip,nw_src=10.1.0.0/16,nw_dst=10.1.0.0/16,in_port=8,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e3 priority=1,ip,nw_src=10.1.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e3 priority=1,ip,nw_src=10.1.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e4 priority=1,ip,nw_src=10.2.0.0/16,nw_dst=10.2.0.0/16,in_port=7,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e4 priority=1,ip,nw_src=10.2.0.0/16,nw_dst=10.2.0.0/16,in_port=8,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e4 priority=1,ip,nw_src=10.2.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e4 priority=1,ip,nw_src=10.2.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e5 priority=1,ip,nw_src=10.2.0.0/16,nw_dst=10.2.0.0/16,in_port=7,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e5 priority=1,ip,nw_src=10.2.0.0/16,nw_dst=10.2.0.0/16,in_port=8,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e5 priority=1,ip,nw_src=10.2.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e5 priority=1,ip,nw_src=10.2.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e6 priority=1,ip,nw_src=10.3.0.0/16,nw_dst=10.3.0.0/16,in_port=7,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e6 priority=1,ip,nw_src=10.3.0.0/16,nw_dst=10.3.0.0/16,in_port=8,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e6 priority=1,ip,nw_src=10.3.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e6 priority=1,ip,nw_src=10.3.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e7 priority=1,ip,nw_src=10.3.0.0/16,nw_dst=10.3.0.0/16,in_port=7,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e7 priority=1,ip,nw_src=10.3.0.0/16,nw_dst=10.3.0.0/16,in_port=8,actions=normal
sh ovs-ofctl -O OpenFlow13 add-flow e7 priority=1,ip,nw_src=10.3.0.0/16,in_port=7,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid
sh ovs-ofctl -O OpenFlow13 add-flow e7 priority=1,ip,nw_src=10.3.0.0/16,in_port=8,actions=push_vlan:0x8100,set_field:4096-\>vlan_vid




